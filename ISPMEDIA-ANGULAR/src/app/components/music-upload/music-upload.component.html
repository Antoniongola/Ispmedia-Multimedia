<main class="CreatioConteinerMusic" style="background: #dc3545">
  <section class="mainContent">
    <app-long-polling-news></app-long-polling-news>
    <section class="conteinerCreation">
      <section class="FormSection">
       <article class="DescriptionForm">
         <h2 class="DescriptionForm-H2 ">
           <i class="bi bi-file-earmark-music-fill"></i>Upload de
           <span class="text-dark">Musicas</span>
         </h2>
       </article>

        <section  class="ElementsConteiner">
          <form class="Form" [formGroup]="musicForm" (ngSubmit)="onSubmit()">
            <article class="ElementsForm-article">
              <div class="col-md-6">
                <label for="tituloMusica">Nome da Música:</label>
                <input id="tituloMusica" class="form-control rounded-2" formControlName="tituloMusica" type="text">
              </div>

              <div class="col-md-6">
                <label for="autor">Autor da música:</label>
                <select id="autor" class="form-select rounded-2" formControlName="autor" (click)="artistAlbums()">
                  <option *ngFor="let artista of artistas" [value]="artista.id" >{{artista.titulo}}</option>
                </select>
              </div>
            </article>

            <article class="ElementsForm-article">
              <div class="col-md-6">
                <label for="generoMusica">Gênero da música:</label>
                <select id="generoMusica" class="form-select rounded-2" formControlName="generoMusica">
                  <option *ngFor="let genero of generos" [value]="genero.id">{{genero.nome}}</option>
                </select>
              </div>

              <div class="col-md-6">
              <label for="editora">Nome da editora:</label>
              <input id="editora" class="form-control rounded-2" formControlName="editora" type="text">
              </div>
            </article>

            <article class="ElementsForm-article">
              <div class="col-md-6">
                <label for="descricao">Descrição da música:</label>
                <textarea id="descricao" class="form-control rounded-2" formControlName="descricao"></textarea>
              </div>

              <div class="col-md-6">
                <label for="letra">Letra da música:</label>
                <textarea id="letra" class="form-control rounded-2" formControlName="letra"></textarea>
              </div>
            </article>

            <article class="ElementsForm-article" >
              <section class="col-md-6">
                <ng-container *ngIf="!musicForm.get('mostrarCampo')?.value">
                  <label for="album">Álbum da música:</label>
                  <select id="album" class="form-select rounded-2" formControlName="album">
                    <option *ngFor="let album of albums" [value]="album.id">{{album.titulo}}</option>
                  </select>
                </ng-container>
              </section>

              <section class="col-md-6">
                  <article class="RadiosDescription">
                    <small>Modo de lançamento <span> [Album/Single]</span></small>
                  </article>
                <article class="inputsAlbumsOrSingle">
                  <div class="inputCheckBoxSingle">
                    <input type="checkbox" class="form-check-input rounded-2" formControlName="mostrarCampo">
                    <p>Single</p>
                  </div>
                </article>
              </section>

            </article>

              <div class="" style="position: relative; bottom: 55px;" *ngIf="musicForm.get('mostrarCampo')?.value">
                <label for="dataLancamento">Data de lançamento do single:</label>
                <input id="dataLancamento" class="form-control rounded-2" formControlName="dataLancamento" type="date">
              </div>

              <article class="ParticipatesInputs" >
                <div>
                  <small class="mb-2 text-light">Quantidade participantes</small>
                  <button class="btn btn-outline-light d-flex flex-wrap justify-content-between" type="button" (click)="addItem()">Adicionar mais participantes</button>
                </div>

                <section formArrayName="items" class="ConterinerSelectParticipantes">
                  <article *ngFor="let item of items.controls; let i=index" [formGroupName]="i" class="AddPartcipantes-Artists">
                    <div>
                      <label for="item-{{i}}" class="me-2">Artista {{i + 1}}: </label>
                      <select id="item-{{i}}" class="form-select rounded-2 me-2" formControlName="name">
                        <option *ngFor="let artista of artistas" [value]="artista.id">{{artista.titulo}}</option>
                      </select>
                    </div>

                    <div>
                      <button class="btnRemoveParticipante" type="button" (click)="removeItem(i)"><i class="bi bi-x mt-2"></i></button>
                    </div>
                  </article>
                </section>
              </article>

            <article class="ElementsForm-ficheiros">
              <div class="rounded-4 ">
                <label for="musicFile">Ficheiro da música:</label>
                <input id="musicFile" class="form-control rounded-2" type="file" (change)="onFileChange($event, 1)" required>
              </div>

              <div class="" >
                <label for="musicImage">Imagem da música:</label>
                <input id="musicImage" class="form-control rounded-2" type="file" (change)="onFileChange($event, 2)" required>
              </div>
            </article>

              <div class="col-md-12 text-center mt-5">
                <button class="customBTN btn btn-outline-danger rounded-2 " type="submit">Adicionar nova música</button>
              </div>
          </form>
        </section>
      </section>
        <section class="conteinerImage">
          <div  id="imagemStyle">
            <img src="assets/up.png" >
          </div>
        </section>
    </section>
  </section>
</main>
